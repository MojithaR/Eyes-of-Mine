(this.webpackJsonp=this.webpackJsonp||[]).push([[951],{"7C1j":function(t,e,n){"use strict";n.r(e),n.d(e,"EditorMarkdownExtension",(function(){return s}));n("3UXl"),n("iyoE"),n("ZzK0"),n("z6RN"),n("BzOf");var o=n("tXF7"),i=n("cm1E");class s{static get extensionName(){return"EditorMarkdown"}onSetup(t){this.toolbarButtons=[],this.actions=[],t.toolbar&&this.setupToolbar(t)}onBeforeUnuse(t){const e=this.toolbarButtons.map((function(t){return t.id}));t.toolbar&&t.toolbar.removeItems(e),this.actions.forEach((function(t){t.dispose()})),this.actions=[]}setupToolbar(t){var e=this;this.toolbarButtons=i.q.map((function(n){return n.data.mdShortcuts&&e.actions.push(t.addAction({id:n.id,label:n.label,keybindings:n.data.mdShortcuts,run(t){t.insertMarkdown(n.data)}})),{...n,icon:n.id,group:i.l.edit,category:"tertiary",onClick:function(e){return t.insertMarkdown(e)}}})),t.toolbar.addItems(this.toolbarButtons)}provides(){return{getSelectedText:function(t,e=t.getSelection()){const{startLineNumber:n,endLineNumber:o,startColumn:i,endColumn:s}=e,r=t.getValue().split("\n");let c="";if(n===o)c=r[n-1].slice(i-1,s-1);else{const t=r[n-1].slice(i-1),e=r[o-1].slice(0,s-1);for(let t=n,e=o-1;t<e;t+=1)c+=""+r[t],t!==e-1&&(c+="\n");c=c?[t,c,e].join("\n"):[t,e].join("\n")}return c},replaceSelectedText:function(t,e,n){const o=!n;t.executeEdits("",[{range:t.getSelection(),text:e,forceMoveMarkers:o}])},moveCursor:function(t,e=0,n=0){const o=t.getPosition();o.column+=e,o.lineNumber+=n,t.setPosition(o)},insertMarkdown:function(t,e){var n;const{mdTag:i,mdBlock:s,mdPrepend:r,mdSelect:c}=(null===(n=e.currentTarget)||void 0===n?void 0:n.dataset)||e;Object(o.c)({tag:i,blockTag:s,wrap:!r,select:c,selected:t.getSelectedText(),text:t.getValue(),editor:t}),t.focus()},selectWithinSelection:function(t,e,n){const o=t.getSelection();if(o.isEmpty()||!e)return;const i=n||t.getSelectedText(o);let s,r,c;const a=i.split("\n");a.length>1?(s=a.findIndex((function(t){return-1!==t.indexOf(e)})),r=o.startLineNumber+s,c=a[s].indexOf(e)+1):(r=o.startLineNumber,c=o.startColumn+i.indexOf(e));const l=r,u=c+e.length,d=o.setStartPosition(r,c).setEndPosition(l,u);t.setSelection(d)}}}}}}]);
//# sourceMappingURL=951.3430d7f1.chunk.js.map